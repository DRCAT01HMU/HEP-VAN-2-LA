<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hyper-Infographic: H·∫πp Van Hai L√° (Hi·ªáu ·ª©ng N√¢ng cao)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Refined Teal and Warm Neutrals (Static & Animated) -->
    <!-- Application Structure Plan: A static, offline-first version based on the user-preferred classic theme. All AI-generated content is pre-rendered and embedded directly into the HTML. The focus is on enhancing visual engagement through advanced, staggered animations and more interactive hover effects, creating a "living document" feel without external dependencies. -->
    <!-- Visualization & Content Choices: All visualizations are retained but enhanced with more sophisticated animations. The pathophysiology cascade now features animated connectors. AI content is presented in styled, embedded blocks. This approach delivers a rich, interactive, and fully portable educational tool. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #f7f9fc;
            color: #333;
        }
        .nav-button {
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            padding-bottom: 8px;
        }
        .nav-button.active, .nav-button:hover {
            color: #0c838f;
            border-bottom-color: #0c838f;
        }
        .tab-button.active {
            background-color: #0c838f;
            color: white;
        }
        .content-section { display: none; }
        .content-section.active { display: block; }
        .chart-container {
            position: relative; width: 100%; max-width: 700px; margin-left: auto; margin-right: auto; height: 350px; max-height: 450px;
        }
        @media (min-width: 768px) { .chart-container { height: 400px; } }
        
        .animated-child {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            transition-delay: var(--delay, 0s);
        }
        .animated-child.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .interactive-card {
            transition: all 0.3s ease;
        }
        .interactive-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }

        .cascade-connector {
            position: relative;
            height: 3rem;
            width: 2px;
            margin: -1rem auto;
            background-color: #cbd5e1;
            transform: scaleY(0);
            transform-origin: top;
            transition: transform 0.5s ease-out;
            transition-delay: var(--delay, 0s);
        }
        .cascade-connector.visible {
            transform: scaleY(1);
        }
        .cascade-arrow {
            position: absolute;
            bottom: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid #cbd5e1;
        }
        .ai-content-box {
            background-color: #f0f9ff;
            border-left: 4px solid #0ea5e9;
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 0 8px 8px 0;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4">
            <div class="flex items-center justify-between h-20">
                <h1 class="text-xl md:text-2xl font-bold text-[#005f69]">H·∫πp Van Hai L√°</h1>
                <div class="hidden md:flex items-center space-x-8 text-base font-semibold text-gray-600">
                    <button class="nav-button active" data-target="overview">T·ªïng quan</button>
                    <button class="nav-button" data-target="diagnosis">Ch·∫©n ƒëo√°n</button>
                    <button class="nav-button" data-target="staging">Ph√¢n lo·∫°i</button>
                    <button class="nav-button" data-target="treatment">ƒêi·ªÅu tr·ªã</button>
                    <button class="nav-button" data-target="special">T√¨nh hu·ªëng ƒë·∫∑c bi·ªát</button>
                    <button class="nav-button" data-target="sources">Ngu·ªìn</button>
                </div>
                <div class="md:hidden">
                    <select id="mobile-nav" class="bg-white border border-gray-300 rounded-md p-2 text-gray-700 focus:ring-2 focus:ring-[#0c838f]">
                        <option value="overview">T·ªïng quan</option>
                        <option value="diagnosis">Ch·∫©n ƒëo√°n</option>
                        <option value="staging">Ph√¢n lo·∫°i</option>
                        <option value="treatment">ƒêi·ªÅu tr·ªã</option>
                        <option value="special">T√¨nh hu·ªëng ƒë·∫∑c bi·ªát</option>
                        <option value="sources">Ngu·ªìn</option>
                    </select>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        <section id="overview" class="content-section active">
            <div class="text-center mb-12 animated-parent">
                <h2 class="text-4xl font-bold text-[#0c838f] mb-4 animated-child">Sinh L√Ω B·ªánh H·∫πp Van Hai L√°</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600 animated-child" style="--delay: 0.1s;">H·∫πp van hai l√° kh·ªüi ƒë·∫ßu m·ªôt chu·ªói c√°c bi·∫øn ƒë·ªïi huy·∫øt ƒë·ªông b·∫•t l·ª£i, ·∫£nh h∆∞·ªüng ng∆∞·ª£c d√≤ng t·ª´ van tim ƒë·∫øn ph·ªïi v√† cu·ªëi c√πng l√† to√†n b·ªô h·ªá tu·∫ßn ho√†n.</p>
                <div class="ai-content-box max-w-3xl mx-auto text-left animated-child" style="--delay: 0.2s;">
                    <h4 class="font-bold text-sky-700">‚ú® Gi·∫£i th√≠ch ƒë∆°n gi·∫£n cho b·ªánh nh√¢n</h4>
                    <p class="text-gray-700 mt-2">Ch√†o b·∫°n, h√£y t∆∞·ªüng t∆∞·ª£ng van hai l√° c·ªßa tim gi·ªëng nh∆∞ m·ªôt c√°nh c·ª≠a gi·ªØa hai bu·ªìng tim. B√¨nh th∆∞·ªùng, n√≥ m·ªü ra d·ªÖ d√†ng ƒë·ªÉ m√°u ƒëi qua. Khi b·ªã "h·∫πp van hai l√°", c√°nh c·ª≠a n√†y b·ªã k·∫πt v√† c·ª©ng l·∫°i, khi·∫øn m√°u kh√≥ ƒëi qua h∆°n. ƒêi·ªÅu n√†y l√†m cho bu·ªìng tim ph√≠a tr√™n ph·∫£i l√†m vi·ªác v·∫•t v·∫£ h∆°n, l√¢u ng√†y s·∫Ω b·ªã m·ªát v√† gi√£n ra. √Åp l·ª±c tƒÉng l√™n n√†y c√≥ th·ªÉ d·ªôi ng∆∞·ª£c l·∫°i ph·ªïi, g√¢y ra c·∫£m gi√°c kh√≥ th·ªü, ƒë·∫∑c bi·ªát l√† khi b·∫°n ƒëi nhanh hay leo c·∫ßu thang. M·ª•c ti√™u ƒëi·ªÅu tr·ªã l√† gi√∫p c√°nh c·ª≠a n√†y ho·∫°t ƒë·ªông t·ªët h∆°n ƒë·ªÉ tim b·∫°n ƒë·ª° v·∫•t v·∫£ v√† b·∫°n c·∫£m th·∫•y kh·ªèe h∆°n.</p>
                </div>
            </div>
            
            <div id="pathophysiology-cascade" class="space-y-0 mb-16 animated-parent">
                <div class="bg-white p-4 rounded-lg shadow-md text-center interactive-card animated-child">
                    <div class="text-2xl mb-2">1Ô∏è‚É£</div>
                    <h3 class="font-semibold text-gray-800">H·∫πp Van</h3>
                    <p class="text-sm text-gray-500">Di·ªán t√≠ch van < 2 cm¬≤</p>
                </div>
                <div class="cascade-connector animated-child" style="--delay: 0.2s;"><div class="cascade-arrow"></div></div>
                <div class="bg-white p-4 rounded-lg shadow-md text-center interactive-card animated-child" style="--delay: 0.3s;">
                    <div class="text-2xl mb-2">2Ô∏è‚É£</div>
                    <h3 class="font-semibold text-gray-800">TƒÉng √Åp L·ª±c Nhƒ© Tr√°i</h3>
                    <p class="text-sm text-gray-500">G√¢y gi√£n nhƒ©, nguy c∆° rung nhƒ©</p>
                </div>
                <div class="cascade-connector animated-child" style="--delay: 0.5s;"><div class="cascade-arrow"></div></div>
                <div class="bg-white p-4 rounded-lg shadow-md text-center interactive-card animated-child" style="--delay: 0.6s;">
                    <div class="text-2xl mb-2">3Ô∏è‚É£</div>
                    <h3 class="font-semibold text-gray-800">TƒÉng √Åp Ph·ªïi</h3>
                    <p class="text-sm text-gray-500">G√¢y kh√≥ th·ªü, sung huy·∫øt ph·ªïi</p>
                </div>
                <div class="cascade-connector animated-child" style="--delay: 0.8s;"><div class="cascade-arrow"></div></div>
                <div class="bg-white p-4 rounded-lg shadow-md text-center interactive-card animated-child" style="--delay: 0.9s;">
                    <div class="text-2xl mb-2">4Ô∏è‚É£</div>
                    <h3 class="font-semibold text-gray-800">Suy Th·∫•t Ph·∫£i</h3>
                    <p class="text-sm text-gray-500">G√¢y ph√π, gan to, tƒ©nh m·∫°ch c·ªï n·ªïi</p>
                </div>
            </div>
        </section>

        <section id="diagnosis" class="content-section">
            <div class="text-center mb-12 animated-parent">
                <h2 class="text-4xl font-bold text-[#0c838f] mb-4 animated-child">Ti·∫øp C·∫≠n Ch·∫©n ƒêo√°n ƒêa M√¥ Th·ª©c</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600 animated-child" style="--delay: 0.1s;">Ch·∫©n ƒëo√°n hi·ªán ƒë·∫°i kh√¥ng ch·ªâ x√°c ƒë·ªãnh b·ªánh m√† c√≤n ph·∫£i l√†m r√µ nguy√™n nh√¢n, m·ª©c ƒë·ªô n·∫∑ng v√† ·∫£nh h∆∞·ªüng l√™n to√†n b·ªô tr√°i tim ƒë·ªÉ ƒë·ªãnh h∆∞·ªõng chi·∫øn l∆∞·ª£c ƒëi·ªÅu tr·ªã c√° th·ªÉ h√≥a.</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 animated-parent">
                <div class="bg-white p-6 rounded-lg shadow-lg interactive-card animated-child" style="--delay: 0s;">
                    <div class="flex items-center mb-4"><div class="text-4xl mr-4">ü©∫</div><h3 class="text-2xl font-semibold text-[#005f69]">L√¢m s√†ng & Nghe tim</h3></div>
                    <p class="text-gray-600">Kh√≥ th·ªü khi g·∫Øng s·ª©c l√† tri·ªáu ch·ª©ng c·ªët l√µi. Nghe tim c√≥ tam ch·ª©ng kinh ƒëi·ªÉn: T1 ƒëanh, clac m·ªü van, rung t√¢m tr∆∞∆°ng.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg interactive-card animated-child" style="--delay: 0.1s;">
                    <div class="flex items-center mb-4"><div class="text-4xl mr-4">üñ•Ô∏è</div><h3 class="text-2xl font-semibold text-[#005f69]">Si√™u √¢m tim 2D/3D</h3></div>
                    <p class="text-gray-600 mb-4">Si√™u √¢m 3D qua th·ª±c qu·∫£n (3D-TEE) l√† "ti√™u chu·∫©n v√†ng m·ªõi" ƒë·ªÉ ƒëo di·ªán t√≠ch van (MVA), kh·∫Øc ph·ª•c h·∫°n ch·∫ø c·ªßa 2D.</p>
                    <button class="font-semibold text-[#0c838f] diagnostic-details-btn" data-target="echo-details">Xem chi ti·∫øt 2D vs 3D ‚Üí</button>
                </div>
                 <div class="bg-white p-6 rounded-lg shadow-lg interactive-card animated-child" style="--delay: 0.2s;">
                    <div class="flex items-center mb-4"><div class="text-4xl mr-4">üèÉ‚Äç‚ôÇÔ∏è</div><h3 class="text-2xl font-semibold text-[#005f69]">Nghi·ªám ph√°p g·∫Øng s·ª©c</h3></div>
                    <p class="text-gray-600">B·ªôc l·ªô c√°c tr∆∞·ªùng h·ª£p n·∫∑ng ti·ªÅm ·∫©n ·ªü b·ªánh nh√¢n √≠t tri·ªáu ch·ª©ng b·∫±ng c√°ch ƒë√°nh gi√° kh√°ch quan ƒë√°p ·ª©ng huy·∫øt ƒë·ªông.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg interactive-card animated-child" style="--delay: 0.3s;">
                    <div class="flex items-center mb-4"><div class="text-4xl mr-4">üß≤</div><h3 class="text-2xl font-semibold text-[#005f69]">C·ªông h∆∞·ªüng t·ª´ (MRI)</h3></div>
                    <p class="text-gray-600">ƒê√°nh gi√° ch√≠nh x√°c ch·ª©c nƒÉng th·∫•t v√† ph√°t hi·ªán t·ªïn th∆∞∆°ng x∆° h√≥a c∆° tim (LGE), m·ªôt y·∫øu t·ªë ti√™n l∆∞·ª£ng quan tr·ªçng.</p>
                </div>
            </div>
            <div id="echo-details" class="hidden mt-8 bg-gray-50 p-6 rounded-lg">
                <h4 class="text-xl font-bold text-center mb-4">T·∫°i sao Si√™u √¢m 3D v∆∞·ª£t tr·ªôi h∆°n 2D?</h4>
                <p class="text-center mb-6">Si√™u √¢m 2D th∆∞·ªùng c·∫Øt ch√©o qua l·ªó van, l√†m di·ªán t√≠ch ƒëo ƒë∆∞·ª£c l·ªõn h∆°n th·ª±c t·∫ø. Si√™u √¢m 3D cho ph√©p t√°i t·∫°o h√¨nh ·∫£nh t·ª´ g√≥c nh√¨n c·ªßa nhƒ© tr√°i v√† x√°c ƒë·ªãnh ch√≠nh x√°c m·∫∑t ph·∫≥ng h·∫πp nh·∫•t.</p>
                <div class="flex justify-around items-center">
                    <div class="text-center"><p class="font-semibold">Si√™u √¢m 2D</p><div class="w-32 h-32 border-2 border-dashed border-gray-400 flex items-center justify-center rounded-lg mt-2"><div class="w-20 h-10 bg-gray-300 transform -skew-x-12 flex items-center justify-center"><p class="text-sm">MVA = 1.6 cm¬≤</p></div></div><p class="text-xs mt-2 text-red-600">D·ªÖ ƒë√°nh gi√° qu√° m·ª©c</p></div>
                    <div class="text-center"><p class="font-semibold">Si√™u √¢m 3D</p><div class="w-32 h-32 border-2 border-solid border-[#0c838f] flex items-center justify-center rounded-lg mt-2 bg-teal-50"><div class="w-16 h-8 bg-[#0c838f] rounded-full flex items-center justify-center text-white"><p class="text-sm">1.4 cm¬≤</p></div></div><p class="text-xs mt-2 text-green-600">Ch√≠nh x√°c h∆°n</p></div>
                </div>
            </div>
        </section>

        <section id="staging" class="content-section">
            <div class="text-center mb-12 animated-parent">
                <h2 class="text-4xl font-bold text-[#0c838f] mb-4 animated-child">Ph√¢n Giai ƒêo·∫°n v√† M·ª©c ƒê·ªô N·∫∑ng</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600 animated-child" style="--delay: 0.1s;">H·ªá th·ªëng ph√¢n giai ƒëo·∫°n A-D c·ªßa AHA/ACC gi√∫p chu·∫©n h√≥a vi·ªác ƒë√°nh gi√° v√† ƒë·ªãnh h∆∞·ªõng can thi·ªáp m·ªôt c√°ch ch·ªß ƒë·ªông.</p>
            </div>
            <div class="flex flex-col md:flex-row gap-8 animated-parent" data-tab-container="staging">
                <div class="md:w-1/3 animated-child" style="--delay: 0s;">
                    <div class="flex flex-col bg-white rounded-lg shadow-lg overflow-hidden">
                        <button class="tab-button p-4 text-left w-full text-lg active" data-target="stageA"><strong>A:</strong> C√≥ nguy c∆°</button>
                        <button class="tab-button p-4 text-left w-full text-lg" data-target="stageB"><strong>B:</strong> Ti·∫øn tri·ªÉn</button>
                        <button class="tab-button p-4 text-left w-full text-lg" data-target="stageC"><strong>C:</strong> N·∫∑ng, kh√¥ng tri·ªáu ch·ª©ng</button>
                        <button class="tab-button p-4 text-left w-full text-lg" data-target="stageD"><strong>D:</strong> N·∫∑ng, c√≥ tri·ªáu ch·ª©ng</button>
                    </div>
                </div>
                <div class="md:w-2/3 bg-white p-8 rounded-lg shadow-lg animated-child" style="--delay: 0.1s;">
                    <div id="stageA" class="staging-content">
                        <h3 class="font-bold text-2xl text-[#005f69] mb-3">Giai ƒëo·∫°n A: At Risk</h3>
                        <p><strong>ƒê·∫∑c ƒëi·ªÉm:</strong> C√≥ y·∫øu t·ªë nguy c∆° (ti·ªÅn s·ª≠ th·∫•p tim) nh∆∞ng van b√¨nh th∆∞·ªùng. <strong>X·ª≠ tr√≠:</strong> Theo d√µi, ph√≤ng th·∫•p t√°i ph√°t.</p>
                    </div>
                    <div id="stageB" class="staging-content hidden">
                        <h3 class="font-bold text-2xl text-[#005f69] mb-3">Giai ƒëo·∫°n B: Progressive</h3>
                        <p><strong>ƒê·∫∑c ƒëi·ªÉm:</strong> HHL nh·∫π ƒë·∫øn v·ª´a (MVA > 1.5 cm¬≤). <strong>X·ª≠ tr√≠:</strong> Theo d√µi si√™u √¢m tim ƒë·ªãnh k·ª≥ (1-5 nƒÉm).</p>
                    </div>
                    <div id="stageC" class="staging-content hidden">
                        <h3 class="font-bold text-2xl text-[#005f69] mb-3">Giai ƒëo·∫°n C: Asymptomatic Severe</h3>
                        <p><strong>ƒê·∫∑c ƒëi·ªÉm:</strong> HHL kh√≠t (MVA ‚â§ 1.5 cm¬≤). <strong>X·ª≠ tr√≠:</strong> Theo d√µi s√°t. C√¢n nh·∫Øc can thi·ªáp s·ªõm n·∫øu c√≥ y·∫øu t·ªë nguy c∆° cao.</p>
                        <div class="ai-content-box">
                            <h4 class="font-bold text-sky-700">‚ú® T√¨nh hu·ªëng l√¢m s√†ng</h4>
                            <p class="text-gray-700 mt-2">B·ªánh nh√¢n n·ªØ, 38 tu·ªïi, ti·ªÅn s·ª≠ th·∫•p tim kh√¥ng r√µ r√†ng, ƒë·∫øn kh√°m s·ª©c kh·ªèe ƒë·ªãnh k·ª≥. B·ªánh nh√¢n ho√†n to√†n kh√¥ng c√≥ tri·ªáu ch·ª©ng, c√≥ th·ªÉ ƒëi b·ªô 2 t·∫ßng l·∫ßu kh√¥ng m·ªát. Kh√°m tim nghe T1 ƒëanh, rung t√¢m tr∆∞∆°ng 3/6 ·ªü m·ªèm. Si√™u √¢m tim: van hai l√° d√†y, d√≠nh m√©p, m·ªü d·∫°ng v√≤m. MVA (ƒëo planimetry 3D) = 1.3 cm¬≤, ch√™nh √°p trung b√¨nh 9 mmHg. PAPs l√∫c ngh·ªâ 45 mmHg. Ch·ª©c nƒÉng th·∫•t tr√°i b√¨nh th∆∞·ªùng. <br><strong>C√¢u h·ªèi:</strong> B·ªánh nh√¢n n√†y thu·ªôc giai ƒëo·∫°n n√†o c·ªßa HHL? C√≥ ch·ªâ ƒë·ªãnh can thi·ªáp ·ªü th·ªùi ƒëi·ªÉm hi·ªán t·∫°i kh√¥ng? Th·∫£o lu·∫≠n c√°c y·∫øu t·ªë c·∫ßn c√¢n nh·∫Øc.</p>
                        </div>
                    </div>
                    <div id="stageD" class="staging-content hidden">
                        <h3 class="font-bold text-2xl text-[#005f69] mb-3">Giai ƒëo·∫°n D: Symptomatic Severe</h3>
                        <p><strong>ƒê·∫∑c ƒëi·ªÉm:</strong> HHL kh√≠t (MVA ‚â§ 1.5 cm¬≤) v√† c√≥ tri·ªáu ch·ª©ng. <strong>X·ª≠ tr√≠:</strong> C√≥ ch·ªâ ƒë·ªãnh can thi·ªáp r√µ r√†ng.</p>
                        <div class="ai-content-box">
                            <h4 class="font-bold text-sky-700">‚ú® T√¨nh hu·ªëng l√¢m s√†ng</h4>
                            <p class="text-gray-700 mt-2">B·ªánh nh√¢n nam, 45 tu·ªïi, ƒë·∫øn kh√°m v√¨ kh√≥ th·ªü khi g·∫Øng s·ª©c ng√†y c√†ng tƒÉng trong 6 th√°ng qua (NYHA III). B·ªánh nh√¢n kh√¥ng th·ªÉ l√†m vi·ªác n·∫∑ng nh∆∞ tr∆∞·ªõc. Nghe tim c√≥ rung t√¢m tr∆∞∆°ng r√µ, T1 ƒëanh. Si√™u √¢m tim: HHL kh√≠t do th·∫•p, MVA = 1.1 cm¬≤, ch√™nh √°p trung b√¨nh 14 mmHg, PAPs 65 mmHg. ƒêi·ªÉm Wilkins = 7. Kh√¥ng c√≥ h·ªü van hai l√° ƒë√°ng k·ªÉ v√† kh√¥ng c√≥ huy·∫øt kh·ªëi trong nhƒ© tr√°i. <br><strong>C√¢u h·ªèi:</strong> B·ªánh nh√¢n n√†y c√≥ ch·ªâ ƒë·ªãnh can thi·ªáp tuy·ªát ƒë·ªëi. L·ª±a ch·ªçn can thi·ªáp t·ªëi ∆∞u cho b·ªánh nh√¢n n√†y l√† g√¨ (PMBC hay ph·∫´u thu·∫≠t)? T·∫°i sao?</p>
                        </div>
                    </div>
                </div>
            </div>
             <div class="mt-12 bg-white p-6 rounded-lg shadow-lg animated-parent">
                <h3 class="text-3xl font-bold text-center text-[#0c838f] mb-6 animated-child">ƒê√°nh gi√° M·ª©c ƒë·ªô n·∫∑ng tr√™n Si√™u √¢m</h3>
                <div class="chart-container animated-child" style="--delay: 0.1s;">
                    <canvas id="severityChart"></canvas>
                </div>
            </div>
        </section>
        
        <section id="treatment" class="content-section">
             <div class="text-center mb-12 animated-parent">
                <h2 class="text-4xl font-bold text-[#0c838f] mb-4 animated-child">Chi·∫øn L∆∞·ª£c ƒêi·ªÅu Tr·ªã To√†n Di·ªán</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600 animated-child" style="--delay: 0.1s;">Quy·∫øt ƒë·ªãnh ƒëi·ªÅu tr·ªã l√† m·ªôt qu√° tr√¨nh ph·ª©c t·∫°p, ƒë∆∞·ª£c c√° th·ªÉ h√≥a v√† ƒë∆∞a ra b·ªüi "Nh√≥m Tim M·∫°ch" (Heart Team).</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 animated-parent">
                <div class="bg-white p-6 rounded-lg shadow-lg interactive-card animated-child" style="--delay: 0s;">
                    <h3 class="text-2xl font-bold text-[#005f69] mb-4">N·ªôi khoa & Ch·ªëng ƒë√¥ng</h3>
                    <p class="mb-4">D√πng thu·ªëc l·ª£i ti·ªÉu, ch·∫πn beta ƒë·ªÉ ki·ªÉm so√°t tri·ªáu ch·ª©ng. L·ª±a ch·ªçn thu·ªëc ch·ªëng ƒë√¥ng khi c√≥ rung nhƒ© l√† quy·∫øt ƒë·ªãnh then ch·ªët.</p>
                    <div class="ai-content-box">
                        <h4 class="font-bold text-sky-700">‚ú® Gi·∫£i th√≠ch ƒë∆°n gi·∫£n cho b·ªánh nh√¢n</h4>
                        <p class="text-gray-700 mt-2">Khi b·∫°n b·ªã h·∫πp van hai l√° v√† tim ƒë·∫≠p kh√¥ng ƒë·ªÅu (rung nhƒ©), m√°u d·ªÖ b·ªã ·ª© l·∫°i v√† t·∫°o th√†nh c√°c c·ª•c m√°u ƒë√¥ng nh·ªè, c√≥ th·ªÉ g√¢y ƒë·ªôt qu·ªµ. ƒê·ªÉ ngƒÉn ng·ª´a, b√°c sƒ© s·∫Ω k√™ thu·ªëc ch·ªëng ƒë√¥ng. V·ªõi b·ªánh c·ªßa b·∫°n, lo·∫°i thu·ªëc 'kh√°ng Vitamin K' (nh∆∞ Warfarin) l√† an to√†n v√† hi·ªáu qu·∫£ nh·∫•t ƒë√£ ƒë∆∞·ª£c ch·ª©ng minh. C√°c lo·∫°i thu·ªëc m·ªõi h∆°n ch∆∞a ƒë∆∞·ª£c nghi√™n c·ª©u k·ªπ cho t√¨nh tr·∫°ng n√†y. V√¨ v·∫≠y, vi·ªác u·ªëng thu·ªëc ƒë·ªÅu ƒë·∫∑n v√† ki·ªÉm tra m√°u th∆∞·ªùng xuy√™n l√† r·∫•t quan tr·ªçng ƒë·ªÉ gi·ªØ b·∫°n an to√†n.</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg interactive-card animated-child" style="--delay: 0.1s;">
                    <h3 class="text-2xl font-bold text-[#005f69] mb-4">Nong van b·∫±ng b√≥ng (PMBC)</h3>
                    <p class="mb-4">L√† l·ª±a ch·ªçn h√†ng ƒë·∫ßu cho HHL do th·∫•p c√≥ h√¨nh th√°i van ph√π h·ª£p. S·ª≠ d·ª•ng thang ƒëi·ªÉm Wilkins ƒë·ªÉ ƒë√°nh gi√°.</p>
                    <div id="wilkins-calculator" class="space-y-2">
                        <div class="grid grid-cols-2 gap-4">
                             <select class="wilkins-input w-full p-2 border rounded-md text-sm"><option value="1">Di ƒë·ªông: 1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option></select>
                             <select class="wilkins-input w-full p-2 border rounded-md text-sm"><option value="1">ƒê·ªô d√†y: 1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option></select>
                             <select class="wilkins-input w-full p-2 border rounded-md text-sm"><option value="1">V√¥i h√≥a: 1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option></select>
                             <select class="wilkins-input w-full p-2 border rounded-md text-sm"><option value="1">D∆∞·ªõi van: 1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option></select>
                        </div>
                        <div id="wilkins-result" class="text-center font-bold text-lg p-3 rounded-md mt-2"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="special" class="content-section">
            <div class="text-center mb-12 animated-parent">
                <h2 class="text-4xl font-bold text-[#0c838f] mb-4 animated-child">Qu·∫£n L√Ω Trong C√°c T√¨nh Hu·ªëng ƒê·∫∑c Bi·ªát</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600 animated-child" style="--delay: 0.1s;">Vi·ªác qu·∫£n l√Ω HHL c·∫ßn ƒë∆∞·ª£c ƒëi·ªÅu ch·ªânh c·∫©n th·∫≠n ·ªü m·ªôt s·ªë qu·∫ßn th·ªÉ ƒë·∫∑c bi·ªát.</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 animated-parent">
                <div class="bg-white p-8 rounded-lg shadow-xl interactive-card animated-child" style="--delay: 0s;">
                    <h3 class="text-2xl font-bold text-[#005f69] mb-4">ü§∞ H·∫πp van hai l√° v√† Thai k·ª≥</h3>
                    <p class="text-gray-700">T√¨nh tr·∫°ng nguy c∆° r·∫•t cao do thay ƒë·ªïi sinh l√Ω c·ªßa thai k·ª≥ c√≥ th·ªÉ l√†m b·ªánh nh√¢n m·∫•t b√π nhanh ch√≥ng.</p>
                    <div class="mt-4 bg-red-50 border-l-4 border-red-400 p-4 rounded"><strong class="text-red-800">Nguy√™n t·∫Øc v√†ng:</strong> T∆∞ v·∫•n v√† can thi·ªáp (PMBC) <strong>TR∆Ø·ªöC KHI</strong> mang thai n·∫øu HHL kh√≠t.</div>
                </div>
                <div class="bg-white p-8 rounded-lg shadow-xl interactive-card animated-child" style="--delay: 0.1s;">
                    <h3 class="text-2xl font-bold text-[#005f69] mb-4">üî™ H·∫πp van hai l√° v√† Ph·∫´u thu·∫≠t ngo√†i tim</h3>
                    <p class="text-gray-700">B·ªánh nh√¢n c√≥ nguy c∆° bi·∫øn ch·ª©ng tim m·∫°ch cao. C·∫ßn ph·ªëi h·ª£p ch·∫∑t ch·∫Ω gi·ªØa c√°c chuy√™n khoa.</p>
                    <div class="mt-4 bg-blue-50 border-l-4 border-blue-400 p-4 rounded"><strong class="text-blue-800">M·ª•c ti√™u ch√≠nh trong m·ªï:</strong> Duy tr√¨ huy·∫øt ƒë·ªông ·ªïn ƒë·ªãnh, tr√°nh nh·ªãp tim nhanh v√† qu√° t·∫£i d·ªãch.</div>
                </div>
            </div>
        </section>

        <section id="sources" class="content-section">
            <div class="text-center mb-12 animated-parent">
                <h2 class="text-4xl font-bold text-[#0c838f] mb-4 animated-child">Ngu·ªìn Tham Kh·∫£o Ch√≠nh</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600 animated-child" style="--delay: 0.1s;">N·ªôi dung c·ªßa infographic n√†y ƒë∆∞·ª£c t·ªïng h·ª£p v√† ƒë·ªëi chi·∫øu t·ª´ c√°c ngu·ªìn t√†i li·ªáu v√† h∆∞·ªõng d·∫´n th·ª±c h√†nh l√¢m s√†ng uy t√≠n.</p>
            </div>
            <div class="max-w-4xl mx-auto space-y-6 animated-parent">
                <div class="bg-white p-6 rounded-lg shadow-lg animated-child" style="--delay: 0s;"><h3 class="text-xl font-semibold text-[#005f69] mb-2">1. T√†i li·ªáu n·ªÅn t·∫£ng</h3><p class="text-gray-700">"H·∫πp Van Hai L√°" - Nguy·ªÖn L√¢n Vi·ªát, Ph·∫°m M·∫°nh H√πng.</p></div>
                <div class="bg-white p-6 rounded-lg shadow-lg animated-child" style="--delay: 0.1s;"><h3 class="text-xl font-semibold text-[#005f69] mb-2">2. H∆∞·ªõng d·∫´n AHA/ACC 2020</h3><p class="text-gray-700">Guideline for the Management of Patients With Valvular Heart Disease.</p></div>
                <div class="bg-white p-6 rounded-lg shadow-lg animated-child" style="--delay: 0.2s;"><h3 class="text-xl font-semibold text-[#005f69] mb-2">3. H∆∞·ªõng d·∫´n ESC/EACTS 2021</h3><p class="text-gray-700">Guidelines for the management of valvular heart disease.</p></div>
            </div>
        </section>

        <footer class="text-center mt-16 pt-8 border-t border-gray-200">
            <p class="text-gray-500 text-sm">T√†i li·ªáu ƒë∆∞·ª£c t·ªïng h·ª£p v√† bi√™n so·∫°n b·ªüi TEAMDRCAT d·ª±a tr√™n t√†i li·ªáu chu·∫©n Y H√† N·ªôi v√† c√°c ngu·ªìn t√†i li·ªáu Y Khoa uy t√≠n ph·ª•c v·ª• m·ª•c ƒë√≠ch h·ªçc t·∫≠p v√† tham kh·∫£o.</p>
        </footer>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const navButtons = document.querySelectorAll('.nav-button');
            const mobileNav = document.getElementById('mobile-nav');
            const contentSections = document.querySelectorAll('.content-section');

            function switchTab(targetId) {
                navButtons.forEach(button => button.classList.toggle('active', button.dataset.target === targetId));
                contentSections.forEach(section => {
                    if (section.id === targetId) {
                        section.classList.add('active');
                        section.classList.remove('hidden');
                    } else {
                        section.classList.remove('active');
                        section.classList.add('hidden');
                    }
                });
                if (mobileNav.value !== targetId) mobileNav.value = targetId;
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Trigger animations for the newly displayed section
                const activeSection = document.getElementById(targetId);
                if(activeSection) {
                    triggerAnimations(activeSection);
                }
            }
            
            contentSections.forEach(section => {
                if (!section.classList.contains('active')) {
                    section.classList.add('hidden');
                }
            });

            navButtons.forEach(button => button.addEventListener('click', () => switchTab(button.dataset.target)));
            mobileNav.addEventListener('change', (e) => switchTab(e.target.value));

            // Animation logic
            const animationObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const parent = entry.target;
                        const children = parent.querySelectorAll('.animated-child');
                        children.forEach((child, index) => {
                            // Reset animation for re-triggering if needed, though unobserve is better for performance
                            child.classList.remove('visible');
                            child.style.setProperty('--delay', `${index * 0.1}s`);
                            // Use a timeout to ensure the class is re-added after the reset
                            setTimeout(() => child.classList.add('visible'), 50);
                        });
                        // For static page, unobserving after first animation is good for performance
                        // animationObserver.unobserve(parent); 
                    }
                });
            }, { threshold: 0.2 });

            function triggerAnimations(container) {
                const parents = container.querySelectorAll('.animated-parent');
                if (parents.length > 0) {
                    parents.forEach(parent => animationObserver.observe(parent));
                }
            }

            // Initial trigger for the first active section
            triggerAnimations(document.querySelector('.content-section.active'));

            // Tab handlers
            document.querySelectorAll('.tab-button').forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetId = tab.dataset.target;
                    const parent = tab.closest('[data-tab-container]');
                    if (!parent) return;
                    parent.querySelectorAll('.tab-button').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    const contentClass = parent.dataset.tabContainer === 'staging' ? '.staging-content' : '.etiology-content';
                    parent.querySelectorAll(contentClass).forEach(content => {
                        content.classList.toggle('hidden', content.id !== targetId);
                    });
                });
            });

            // Wilkins Score Calculator
            const wilkinsInputs = document.querySelectorAll('.wilkins-input');
            const wilkinsResultDiv = document.getElementById('wilkins-result');
            function calculateWilkinsScore() {
                let totalScore = 0;
                wilkinsInputs.forEach(input => totalScore += parseInt(input.value));
                let resultText = `T·ªïng ƒëi·ªÉm Wilkins: ${totalScore}. `;
                let bgColor = '';
                if (totalScore <= 8) {
                    resultText += "H√¨nh th√°i t·ªëi ∆∞u cho PMBC.";
                    bgColor = 'bg-green-100 text-green-800';
                } else if (totalScore <= 11) {
                    resultText += "K·∫øt qu·∫£ kh√¥ng t·ªëi ∆∞u, c·∫ßn c√¢n nh·∫Øc.";
                    bgColor = 'bg-yellow-100 text-yellow-800';
                } else {
                    resultText += "Kh√¥ng n√™n nong van, nguy c∆° cao.";
                    bgColor = 'bg-red-100 text-red-800';
                }
                wilkinsResultDiv.textContent = resultText;
                wilkinsResultDiv.className = `text-center font-bold text-lg p-3 rounded-md mt-2 ${bgColor}`;
            }
            wilkinsInputs.forEach(input => input.addEventListener('change', calculateWilkinsScore));
            calculateWilkinsScore();

            // Chart.js
            const severityCtx = document.getElementById('severityChart').getContext('2d');
            new Chart(severityCtx, {
                type: 'bar',
                data: {
                    labels: ['H·∫πp Nh·∫π', 'H·∫πp V·ª´a', 'H·∫πp N·∫∑ng'],
                    datasets: [
                        { label: 'MVA (cm¬≤)', data: [1.8, 1.25, 0.8], backgroundColor: '#0c838f', yAxisID: 'y' },
                        { label: 'Ch√™nh √°p (mmHg)', data: [4, 7, 12], backgroundColor: '#f97316', yAxisID: 'y1' },
                        { label: 'PAPs (mmHg)', data: [25, 40, 60], backgroundColor: '#6b7280', yAxisID: 'y1' }
                    ]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    animation: {
                        duration: 1000,
                        easing: 'easeInOutQuart'
                    },
                    plugins: { title: { display: true, text: 'C√°c th√¥ng s·ªë ch√≠nh ƒë√°nh gi√° m·ª©c ƒë·ªô n·∫∑ng HHL', font: { size: 16 } } },
                    scales: {
                        y: { type: 'linear', display: true, position: 'left', title: { display: true, text: 'Di·ªán t√≠ch van (cm¬≤)' }, min: 0, max: 2.5 },
                        y1: { type: 'linear', display: true, position: 'right', title: { display: true, text: '√Åp l·ª±c (mmHg)' }, grid: { drawOnChartArea: false }, min: 0, max: 80 }
                    }
                }
            });

            // Details button
            document.querySelectorAll('.diagnostic-details-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const target = document.getElementById(btn.dataset.target);
                    if(target) target.classList.toggle('hidden');
                });
            });
        });
    </script>
</body>
</html>
